import{o as a,c as r,a as s,U as j,u as U,d as x,b as d,e as T,f,g as _,_ as W,r as R,h as S,t as y,i as H,n as N,j as E,F as v,k as g,w as k,l as B,m as K,p as X,q as Y,s as Z}from"./vendor.f90edea8.js";const Q=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function l(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(e){if(e.ep)return;e.ep=!0;const o=l(e);fetch(e.href,o)}};Q();const G={class:"inline-block align-middle",viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},J=s("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96s96-43.1 96-96s-43.1-96-96-96zm246.4 80.5l-94.7-47.3l33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5l-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4l-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3l-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5l47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7l100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4l94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0c-49.9-49.9-49.9-131.1 0-181c49.9-49.9 131.1-49.9 181 0c49.9 49.9 49.9 131.1 0 181z"},null,-1),ee=[J];function te(i,n){return a(),r("svg",G,ee)}var ne={name:"fa-solid-sun",render:te};const le={class:"inline-block align-middle",viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},ae=s("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792c7.068-8.708-.639-21.43-11.562-19.35c-124.203 23.654-238.262-71.576-238.262-196.954c0-72.222 38.662-138.635 101.498-174.394c9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256c0 141.309 114.511 256 256 256z"},null,-1),oe=[ae];function se(i,n){return a(),r("svg",le,oe)}var re={name:"fa-solid-moon",render:se};const ie={class:"inline-block align-middle",viewBox:"0 0 496 512",width:"1.2em",height:"1.2em"},ce=s("path",{fill:"currentColor",d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6c-3.3.3-5.6-1.3-5.6-3.6c0-2 2.3-3.6 5.2-3.6c3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9c2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9c.3 2 2.9 3.3 5.9 2.6c2.9-.7 4.9-2.6 4.6-4.6c-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2c12.8 2.3 17.3-5.6 17.3-12.1c0-6.2-.3-40.4-.3-61.4c0 0-70 15-84.7-29.8c0 0-11.4-29.1-27.8-36.6c0 0-22.9-15.7 1.6-15.4c0 0 24.9 2 38.6 25.8c21.9 38.6 58.6 27.5 72.9 20.9c2.3-16 8.8-27.1 16-33.7c-55.9-6.2-112.3-14.3-112.3-110.5c0-27.5 7.6-41.3 23.6-58.9c-2.6-6.5-11.1-33.3 2.6-67.9c20.9-6.5 69 27 69 27c20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27c13.7 34.7 5.2 61.4 2.6 67.9c16 17.7 25.8 31.5 25.8 58.9c0 96.5-58.9 104.2-114.8 110.5c9.2 7.9 17 22.9 17 46.4c0 33.7-.3 75.4-.3 83.6c0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252C496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2c1.6 1.6 3.9 2.3 5.2 1c1.3-1 1-3.3-.7-5.2c-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9c1.6 1 3.6.7 4.3-.7c.7-1.3-.3-2.9-2.3-3.9c-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2c2.3 2.3 5.2 2.6 6.5 1c1.3-1.3.7-4.3-1.3-6.2c-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9c1.6 2.3 4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2c-1.4-2.3-4-3.3-5.6-2z"},null,-1),ue=[ce];function de(i,n){return a(),r("svg",ie,ue)}var pe={name:"fa-brands-github",render:de};const q=new j,I=U();let D=window.location.protocol+"//"+window.location.host;D=D+"/dataspace/";const fe=`from io import BytesIO
import pandas as pd
import numpy as np
import altair as alt
import dataspace
from pyodide.http import pyfetch
from vega_datasets import data as _vdata
async def load_dataset(_dsname):
  url = ""
  if _dsname == "timeserie":
    url = "${D}small_timeserie.csv"
  elif _dsname == "bitcoin":
    url = "${D}BTC-USDT-1min.csv"
  elif _dsname == "sp500":
    url = f"https://cdn.jsdelivr.net/npm/vega-datasets@v1.29.0/data/{_dsname}.csv"
  else:
    source = _vdata(_dsname)
    ds = dataspace.from_df(source)
    return ds
  ds = dataspace.from_df(pd.DataFrame({"A": [1]}))
  # print("Fetching", url)
  response = await pyfetch(url)
  if response.status == 200:
      with open("<output_file>", "wb") as f:
          df = pd.read_csv(BytesIO(await response.bytes()))
          ds = dataspace.from_df(df)        
  else:
      print("Wrong status code", response.status)
  return ds
`,me=`
result_type = str(type(result)).replace("<class '", "").replace("'>", "")
# print("T", result_type)
if (result_type in ['dataspace.charts.altair.charts.AltairChart', 'altair.vegalite.v4.api.Chart', 'altair.vegalite.v4.api.LayerChart']):
  return result.to_json()
`;async function _e(){await I.load(["pandas","numpy","bokeh"],["altair","dataspace","vega_datasets"],fe,me)}const he={class:"flex flex-row items-center pl-5"},ye=x({__name:"TheHeader",emits:["navigate"],setup(i,{emit:n}){function l(t){window.location.href=t}return(t,e)=>{const o=pe,c=re,u=ne;return a(),r("div",he,[s("div",{class:"flex-grow text-xl cursor-pointer text-foreground-dark",onClick:e[0]||(e[0]=p=>t.$router.push("/"))},"Dataspace documentation"),s("div",{class:"mr-8 cursor-pointer",onClick:e[1]||(e[1]=p=>n("navigate","doc"))},"Doc"),s("div",{class:"mr-8 cursor-pointer",onClick:e[2]||(e[2]=p=>n("navigate","apiref"))},"Api ref"),s("div",{class:"mr-12 cursor-pointer",onClick:e[3]||(e[3]=p=>n("navigate","examples"))},"Examples"),s("div",{class:"mr-12 cursor-pointer",onClick:e[4]||(e[4]=p=>l("https://github.com/synw/dataspace"))},[d(o,{class:"text-xl txt-lighter"}),T("\xA0Source ")]),s("div",{class:"pr-5 text-lg cursor-pointer txt-light dark:txt-light",onClick:e[5]||(e[5]=p=>f(q).toggleDarkMode())},[f(q).isDarkMode.value?(a(),_(u,{key:1})):(a(),_(c,{key:0}))]),d(f(W),{py:f(I),class:"mr-5"},null,8,["py"])])}}}),ve={class:"inline-block align-middle",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},ge=s("path",{fill:"currentColor",d:"M128 188a12.2 12.2 0 0 1-8.5-3.5l-80-80a12 12 0 0 1 17-17L128 159l71.5-71.5a12 12 0 0 1 17 17l-80 80a12.2 12.2 0 0 1-8.5 3.5Z"},null,-1),xe=[ge];function we(i,n){return a(),r("svg",ve,xe)}var z={name:"ph-caret-down-bold",render:we};const ke={class:"inline-block align-middle",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},be=s("path",{fill:"currentColor",d:"M96 220a12.2 12.2 0 0 1-8.5-3.5a12 12 0 0 1 0-17L159 128L87.5 56.5a12 12 0 0 1 17-17l80 80a12 12 0 0 1 0 17l-80 80A12.2 12.2 0 0 1 96 220Z"},null,-1),Ce=[be];function $e(i,n){return a(),r("svg",ke,Ce)}var F={name:"ph-caret-right-bold",render:$e};const De={class:"m-1 text-xl border rounded-sm cursor-pointer bord-light lighter"},Ae={class:"text-neutral-300 dark:text-neutral-500"},Te={class:"ml-2"},b=x({__name:"SidebarBlock",props:{name:{type:String,required:!0}},setup(i){const n=R(!0);return(l,t)=>{const e=F,o=z;return a(),r("div",null,[s("div",De,[s("button",{class:"flex items-center w-full pl-0 btn",onClick:t[0]||(t[0]=c=>n.value=!n.value)},[s("div",Ae,[n.value===!1?(a(),_(e,{key:0})):n.value===!0?(a(),_(o,{key:1})):S("",!0)]),s("div",Te,y(i.name),1)])]),s("div",{class:N([{slideup:n.value===!1,slidedown:n.value===!0},"slide-y"])},[H(l.$slots,"default")],2)])}}});var P=(i,n)=>{const l=i.__vccOpts||i;for(const[t,e]of n)l[t]=e;return l};const qe=["onClick"],Se={class:"text-neutral-300 dark:text-neutral-500"},Ne={class:"ml-2"},Oe={key:0,class:"flex flex-col pb-3 pl-8 space-y-1"},Le=["onClick"],Re={key:1,class:"flex flex-col pb-3 pl-8 space-y-1"},Ee=["onClick"],Be=x({__name:"SwAccordion",props:{data:{type:Object,required:!0},hasTitles:{type:Boolean,default:!1}},emits:["onclick"],setup(i,{emit:n}){const l=i;function t(u,p){return Object.keys(p).forEach(function(A){u[A]=!0}),u}function e(u){let p="/method/";u!=null&&u.source&&(p="/"+u.source+p),n("onclick",p+u.value)}const o=E(t({},l.data));function c(u){o[u]=!o[u]}return(u,p)=>{const A=F,V=z;return a(),r("div",null,[(a(!0),r(v,null,g(Object.keys(o),h=>(a(),r("div",null,[s("button",{class:"flex items-center btn",onClick:w=>c(h)},[s("div",Se,[o[h]===!0?(a(),_(A,{key:0})):o[h]===!1?(a(),_(V,{key:1})):S("",!0)]),s("div",Ne,y(h),1)],8,qe),s("div",{class:N([{slideup:o[h]===!0,slidedown:o[h]===!1},"slide-y"])},[i.hasTitles?(a(),r("div",Re,[(a(!0),r(v,null,g(l.data[h],w=>(a(),r("div",{class:"p-1 cursor-pointer",onClick:M=>e(w)},y(w.title),9,Ee))),256))])):(a(),r("div",Oe,[(a(!0),r(v,null,g(l.data[h],w=>(a(),r("div",{class:"p-1 cursor-pointer",onClick:M=>e(w)},y(w),9,Le))),256))]))],2)]))),256))])}}});var C=P(Be,[["__scopeId","data-v-415f0eba"]]);const Ie={"View data":[{title:"Show the dataframe",value:"show"},{title:"Show columns types",value:"cols_"}],"Count data":[{title:"Count nulls",value:"count_null_"},{title:"Count empty",value:"count_empty_"},{title:"Count zero",value:"count_zero_"},{title:"Count unique",value:"count_unique_"},{title:"Weight unique values",value:"wunique_"}]},ze={"Select data":[{title:"Limit",value:"limit"},{title:"Unique",value:"unique_"}]},Fe={Nulls:[{title:"Drop NaN",value:"drop_nan"},{title:"Fill NaN",value:"fill_nan"},{title:"Fill nulls",value:"fill_nulls"}],Dates:[{title:"To date",value:"to_date"},{title:"Format date",value:"fdate"},{title:"Timestamps",value:"timestamps"}],"Convert types":[{title:"To integer",value:"to_int"},{title:"To float",value:"to_float"},{title:"To type",value:"to_type"}],"Clean values":[{title:"Strip",value:"strip"},{title:"Strip column names",value:"strip_cols"},{title:"Round floats",value:"roundvals"},{title:"Replace values",value:"replace"}],Index:[{title:"Add an index from a column",value:"index"},{title:"Add a date index from a column",value:"dateindex"}]},Pe={Dataframe:[{title:"Split",value:"split_"},{title:"Indexcol",value:"indexcol"},{title:"Drop",value:"drop"},{title:"Add",value:"add"},{title:"Rename",value:"rename"},{title:"Keep",value:"keep"},{title:"Copycol",value:"copycol"}],Values:[{title:"Sort",value:"sort"},{title:"Exclude",value:"exclude"},{title:"Drop rows",value:"dropr"},{title:"Append rows",value:"append"},{title:"Reverse",value:"reverse"},{title:"Apply",value:"apply"}],"Resample timeseries":[{title:"Rsum",value:"rsum"},{title:"Rmean",value:"rmean"}]},Ve={Options:[{title:"Inititialize the x and y axis",value:"axis"},{title:"Select the chart engine",value:"bokeh"}],"Draw chart":[{title:"Line",value:"line_"},{title:"Bar",value:"bar_"},{title:"Point",value:"point_"},{title:"Area",value:"area_"},{title:"HLine",value:"hline_"}],"Inline api":[{title:"Width",value:"w",source:"chart"},{title:"Height",value:"h",source:"chart"},{title:"Width and height",value:"wh",source:"chart"},{title:"Mark width",value:"mw",source:"chart"},{title:"Point width",value:"pw",source:"chart"},{title:"Color",value:"color",source:"chart"},{title:"Opacity",value:"opacity",source:"chart"},{title:"Tooltips",value:"tooltip",source:"chart"},{title:"X axis label rotation",value:"rx",source:"chart"},{title:"Remove X axis labels",value:"nox",source:"chart"},{title:"Remove Y axis labels",value:"noy",source:"chart"},{title:"Title",value:"title",source:"chart"},{title:"Values colormap",value:"colormap",source:"chart"},{title:"Quantiles colormap",value:"qcolormap",source:"chart"}]};var m={"Data IO":{Load:[{title:"From a dataframe",value:"from_df",source:"toplevel"},{title:"From a csv file",value:"from_csv",source:"toplevel"},{title:"From a django orm query",value:"from_django",source:"toplevel"}],Export:[{title:"To a csv file",value:"export_csv"}]},Info:Ie,Select:ze,Clean:Fe,Transform:Pe,Charts:Ve};const Me=x({__name:"TheSidebar",setup(i){return(n,l)=>(a(),r("div",null,[d(b,{name:"Data IO"},{default:k(()=>[d(C,{data:f(m)["Data IO"],"has-titles":!0,onOnclick:l[0]||(l[0]=t=>n.$router.push(t))},null,8,["data"])]),_:1}),d(b,{name:"Info"},{default:k(()=>[d(C,{data:f(m).Info,"has-titles":!0,onOnclick:l[1]||(l[1]=t=>n.$router.push(t))},null,8,["data"])]),_:1}),d(b,{name:"Select"},{default:k(()=>[d(C,{data:f(m).Select,"has-titles":!0,onOnclick:l[2]||(l[2]=t=>n.$router.push(t))},null,8,["data"])]),_:1}),d(b,{name:"Clean"},{default:k(()=>[d(C,{data:f(m).Clean,"has-titles":!0,onOnclick:l[3]||(l[3]=t=>n.$router.push(t))},null,8,["data"])]),_:1}),d(b,{name:"Transform"},{default:k(()=>[d(C,{data:f(m).Transform,"has-titles":!0,onOnclick:l[4]||(l[4]=t=>n.$router.push(t))},null,8,["data"])]),_:1}),d(b,{name:"Charts"},{default:k(()=>[d(C,{data:f(m).Charts,"has-titles":!0,onOnclick:l[5]||(l[5]=t=>n.$router.push(t))},null,8,["data"])]),_:1})]))}}),je={funcdef:"def show(self, rows: int = 5) -> pd.DataFrame",description:`Display info about the dataframe
`,long_description:`Category: Info/View data/Show
`,example:null,params:{rows:{description:`number of rows to show, <strong>default</strong>: 5
`,type:`<tt class="docutils literal">int</tt> <em>optional</em>
`,default:null}},raises:{},return:{name:null,type:`<tt class="docutils literal">DataFrame</tt>
`}},Ue={funcdef:"def cols_(self) -> pd.DataFrame",description:`Returns a dataframe with columns info
`,long_description:`Category: Info/View data/Show
`,example:null,params:{},raises:{},return:{name:null,type:`<tt class="docutils literal">DataFrame</tt>
`}},We={funcdef:"def to_date(self, *cols: str, **kwargs) -> None",description:`Convert some columns values to date type
`,long_description:`Category: Clean/Dates/To date
`,example:null,params:{cols:{description:`names of the colums
`,type:`str <em>at least one</em>
`,default:null},"\\*\\*kwargs":{description:`keyword arguments for <tt class="docutils literal">pd.to_datetime</tt>
`,type:`optional
`,default:null}},raises:{},return:{name:"",type:""}},He={funcdef:"def to_int(self, *cols: str, **kwargs) -> None",description:`Convert some column values to integers
`,long_description:`Category: Clean/Convert types/To type
`,example:null,params:{"\\*cols":{description:`names of the columns
`,type:`str <em>at least one</em>
`,default:null},"\\*\\*kwargs":{description:`keyword arguments for <tt class="docutils literal">pd.to_numeric</tt>
`,type:`optional
`,default:null}},raises:{},return:{name:"",type:""}},Ke={funcdef:"def to_float(self, *cols: str, **kwargs) -> None",description:`Convert colums values to float -
`,long_description:`Category: Clean/Convert types/To float
`,example:null,params:{cols:{description:`name of the columns
`,type:`str <em>at least one</em>
`,default:null},"\\*\\*kwargs":{description:`keyword arguments for <tt class="docutils literal">df.astype</tt>
`,type:`optional
`,default:null}},raises:{},return:{name:"",type:""}},Xe={funcdef:"def to_type(self, dtype: type, *cols: str, **kwargs) -> None",description:`Convert colums values to a given type in the main dataframe
`,long_description:`Category: Clean/Convert types/To type
`,example:null,params:{dtype:{description:`a type to convert to: ex: str
`,type:`<tt class="docutils literal">type</tt>
`,default:null},"\\*cols":{description:`names of the columns
`,type:`str <em>at least one*</em>
`,default:null},"\\*\\*kwargs":{description:`keyword arguments for <tt class="docutils literal">df.astype</tt>
`,type:`optional
`,default:null}},raises:{},return:{name:"",type:""}},Ye={funcdef:'def drop_nan(self, col: str, method: str = "all", **kwargs) -> None',description:`Drop rows with <tt class="docutils literal">NaN</tt> values from the main dataframe
`,long_description:null,example:null,params:{col:{description:`name of the column
`,type:`str <em>optional</em>
`,default:null},method:{description:`<tt class="docutils literal">how</tt> param for <tt class="docutils literal">df.dropna</tt>, <strong>default</strong>: &quot;all&quot;
`,type:`str <em>optional</em>
`,default:null},"\\*\\*kwargs":{description:`params for <tt class="docutils literal">df.dropna</tt>
`,type:`optional
`,default:null}},raises:{},return:{name:"",type:""}},Ze={funcdef:"def fill_nan(self, val: str, *cols)",description:`Fill NaN values with new values in the main dataframe
`,long_description:null,example:null,params:{val:{description:`new value
`,type:`str
`,default:null},"\\*cols":{description:`names of the colums
`,type:`str <em>at least one</em>
`,default:null}},raises:{},return:{name:"",type:""}},Qe={funcdef:'def fill_nulls(self, val=nan, *cols: str, nulls=[None, ""])',description:`Fill all null values with NaN values in a column.
`,long_description:`Null values are <tt class="docutils literal">None</tt> or en empty string
`,example:null,params:{cols:{description:`columns names
`,type:`str <em>at least one</em>
`,default:null}},raises:{},return:{name:"",type:""}},Ge={funcdef:"def index(self, col: str) -> pd.DataFrame",description:`Set an index to the main dataframe
`,long_description:null,example:null,params:{col:{description:`column name where to index from
`,type:`str
`,default:null}},raises:{},return:{name:"",type:""}},Je={funcdef:"def dateindex(self, col: str) -> pd.DataFrame",description:`Set a datetime index from a column
`,long_description:null,example:null,params:{col:{description:`column name where to index the date from
`,type:`str
`,default:null}},raises:{},return:{name:"",type:""}},et={funcdef:'def fdate(self, *cols, precision: str = "S", format: Optional[str] = None)',description:`Convert column values to formated date string
`,long_description:null,example:null,params:{"\\*cols":{description:`names of the colums
`,type:`str, at least one
`,default:null},precision:{description:`time precision: Y, M, D, H, Min S, defaults to &quot;S&quot;
`,type:`str <em>optional</em>
`,default:`&quot;S&quot;
`},format:{description:`python date format, defaults to None
`,type:`str, optional
`,default:`None
`}},raises:{},return:{name:"",type:""}},tt={funcdef:"def timestamps(self, col: str, **kwargs)",description:`Add a timestamps column from a date column
`,long_description:null,example:null,params:{col:{description:`name of the timestamps column to add
`,type:`str
`,default:null},"\\*\\*kwargs":{description:`keyword arguments for <tt class="docutils literal">pd.to_datetime</tt>
`,type:`optional
`,default:null}},raises:{},return:{name:"",type:""}},nt={funcdef:"def strip(self, *cols: str)",description:`Remove leading and trailing white spaces column's values
`,long_description:null,example:null,params:{col:{description:`name of the column
`,type:`str
`,default:null}},raises:{},return:{name:"",type:""}},lt={funcdef:"def strip_cols(self)",description:`Remove leading and trailing white spaces in columns names
`,long_description:null,example:null,params:{},raises:{},return:{name:"",type:""}},at={funcdef:"def roundvals(self, col: str, precision: int = 2)",description:`Round floats in a column. Numbers are going to be
`,long_description:`converted to floats if they are not already
`,example:null,params:{col:{description:`column name
`,type:`str
`,default:null},precision:{description:`<tt class="docutils literal">int</tt> <em>optional</em>
`,type:null,default:null}},raises:{},return:{name:"",type:""}},ot={funcdef:"def replace(self, col: str, searchval: str, replaceval: str)",description:`Replace a value in a column in the main dataframe
`,long_description:null,example:null,params:{col:{description:`column name
`,type:`str
`,default:null},searchval:{description:`value to replace
`,type:`str
`,default:null},replaceval:{description:`new value
`,type:`str
`,default:null}},raises:{},return:{name:"",type:""}},st={funcdef:"def limit(self, r: int = 5) -> None",description:`Limit selection to a range in the main dataframe
`,long_description:null,example:null,params:{r:{description:`number of rows to keep, <strong>default</strong>: 5
`,type:`<tt class="docutils literal">int</tt> <em>optional</em>
`,default:null}},raises:{},return:{name:"",type:""}},rt={funcdef:"def unique_(self, col: str) -> List[str]",description:`Returns a list of unique values in a column
`,long_description:null,example:null,params:{col:{description:`the column to select from
`,type:`str
`,default:null}},raises:{},return:{name:null,type:`<tt class="docutils literal">List[str]</tt>
`}},it={funcdef:'def wunique_(self, col: str, colname: str = "Number") -> pd.DataFrame',description:`Weight unique values: returns a dataframe with a count
`,long_description:`of unique values for a column
`,example:null,params:{col:{description:`the column to select from
`,type:`str
`,default:null}},raises:{},return:{name:null,type:`<tt class="docutils literal">pd.DataFrame</tt>
`}},ct={funcdef:"def count_null_(self, col: str) -> int",description:`Count the number of null values in a column
`,long_description:null,example:null,params:{col:{description:`the column to count from
`,type:`str
`,default:null}},raises:{},return:{name:null,type:`int
`}},ut={funcdef:"def count_empty_(self, col: str) -> int",description:`List of empty row indices
`,long_description:null,example:null,params:{col:{description:`column to count from
`,type:`str
`,default:null}},raises:{},return:{name:null,type:`int
`}},dt={funcdef:"def count_zero_(self, col: str) -> int",description:`List of row with 0 values
`,long_description:null,example:null,params:{col:{description:`column to count from
`,type:`str
`,default:null}},raises:{},return:{name:null,type:`int
`}},pt={funcdef:"def count_unique_(self, col: str) -> int",description:`Return the number of unique values in a column
`,long_description:null,example:null,params:{col:{description:`column to count from
`,type:`str
`,default:null}},raises:{},return:{name:null,type:`int
`}},ft={funcdef:'def split_(self, col: str) -> Dict[str, "DataSpace"]',description:`Split the main dataframe according to a column's unique values and
`,long_description:`return a dict of DataSpace instances
`,example:null,params:{},raises:{},return:{name:null,type:`<tt class="docutils literal">List[DataSpace]</tt>
`}},mt={funcdef:"def sort(self, col: str, **kwargs)",description:`Sorts the main dataframe according to the given column
`,long_description:null,example:null,params:{col:{description:`column name
`,type:`str
`,default:null}},raises:{},return:{name:"",type:""}},_t={funcdef:"def indexcol(self, col: str)",description:`Add a column from the index
`,long_description:null,example:null,params:{col:{description:`name of the new column
`,type:`str
`,default:null}},raises:{},return:{name:"",type:""}},ht={funcdef:"def drop(self, *cols) -> None",description:`Drops columns from the main dataframe
`,long_description:null,example:null,params:{cols:{description:`names of the columns
`,type:`str
`,default:null}},raises:{},return:{name:"",type:""}},yt={funcdef:"def rename(self, source_col: str, dest_col: str) -> None",description:`Renames a column in the main dataframe
`,long_description:null,example:null,params:{source_col:{description:`name of the column to rename
`,type:`str
`,default:null},dest_col:{description:`new name of the column
`,type:`str
`,default:null}},raises:{},return:{name:"",type:""}},vt={funcdef:"def add(self, col: str, value) -> None",description:`Add a column with default values
`,long_description:null,example:null,params:{col:{description:`column name
`,type:`str
`,default:null},value:{description:`column value
`,type:`any
`,default:null}},raises:{},return:{name:"",type:""}},gt={funcdef:"def keep(self, *cols) -> None",description:`Limit the dataframe to some columns
`,long_description:null,example:null,params:{cols:{description:`names of the columns
`,type:`str
`,default:null}},raises:{},return:{name:"",type:""}},xt={funcdef:"def exclude(self, col: str, val) -> None",description:`Delete rows based on value
`,long_description:null,example:null,params:{col:{description:`column name
`,type:`str
`,default:null},val:{description:`value to delete
`,type:`any
`,default:null}},raises:{},return:{name:"",type:""}},wt={funcdef:"def copycol(self, origin_col: str, dest_col: str)",description:`Copy a columns values in another column
`,long_description:null,example:null,params:{origin_col:{description:`name of the column to copy
`,type:`str
`,default:null},dest_col:{description:`name of the new column
`,type:`str
`,default:null}},raises:{},return:{name:"",type:""}},kt={funcdef:"def dropr(self, *rows)",description:`Drops some rows from the main dataframe
`,long_description:null,example:null,params:{rows:{description:`rows names
`,type:`list of ints
`,default:null}},raises:{},return:{name:"",type:""}},bt={funcdef:"def append(self, *vals, ignore_index=True) -> None",description:`Append a row to the main dataframe
`,long_description:null,example:null,params:{vals:{description:`list of the row values to add
`,type:`list
`,default:null},index:{description:`any, optional
`,type:null,default:null}},raises:{},return:{name:"",type:""}},Ct={funcdef:"def reverse(self) -> None",description:`Reverses the main dataframe order
`,long_description:null,example:null,params:{},raises:{},return:{name:"",type:""}},$t={funcdef:"def apply(self, function, *cols: List[str], axis=1, **kwargs) -> None",description:`Apply a function on columns values
`,long_description:null,example:null,params:{function:{description:`a function to apply to the columns
`,type:`function
`,default:null},cols:{description:`columns names
`,type:`name of columns
`,default:null},axis:{description:`index (0) or column (1), default is 1
`,type:null,default:null},kwargs:{description:`arguments for <tt class="docutils literal">df.apply</tt>
`,type:`optional
`,default:null}},raises:{},return:{name:"",type:""}},Dt={funcdef:"def rsum",description:`Resample and add a sum the main dataframe to a time period
`,long_description:null,example:null,params:{time_period:{description:`str
`,type:null,default:null},num_col:{description:`str, optional
`,type:null,default:null},dateindex:{description:`str, optional
`,type:null,default:null}},raises:{},return:{name:"",type:""}},At={funcdef:"def rmean",description:`Resample and add a sum column the main dataframe to a time period
`,long_description:null,example:null,params:{time_period:{description:`str
`,type:null,default:null},num_col:{description:`str, optional
`,type:null,default:null},dateindex:{description:`column name to use as date index, defaults to None
`,type:null,default:`None
`}},raises:{},return:{name:"",type:""}},Tt={funcdef:"def percent(self, col: str, roundn=1)",description:`add a percent column
`,long_description:null,example:null,params:{col:{description:`the column to calculate percentages from
`,type:`str
`,default:null},roundn:{description:`round level, defaults to 1
`,type:`int, optional
`,default:`1
`}},raises:{},return:{name:"",type:""}},qt={funcdef:'def diffn(self, diffcol: str, name: str = "Diff", doround=True) -> None',description:`Add a diff column to the main dataframe: calculate the diff
`,long_description:`from the next value
`,example:null,params:{diffcol:{description:`column to diff from
`,type:`str
`,default:null},name:{description:`diff column name, defaults to &quot;Diff&quot;
`,type:`str, optional
`,default:`&quot;Diff&quot;
`}},raises:{},return:{name:"",type:""}},St={funcdef:'def diffnp(self, diffcol: str, name: str = "Diff", doround=True) -> None',description:`Add a diff column to the main dataframe: calculate the diff
`,long_description:`in percentage from the next value
`,example:null,params:{diffcol:{description:`column to diff from
`,type:`str
`,default:null},name:{description:`diff column name, defaults to &quot;Diff&quot;
`,type:`str, optional
`,default:`&quot;Diff&quot;
`}},raises:{},return:{name:"",type:""}},Nt={funcdef:'def diffp(self, diffcol: str, name: str = "Diff", doround=True) -> None',description:`Add a diff column to the main dataframe: calculate the diff
`,long_description:`from the previous value
`,example:null,params:{diffcol:{description:`column to diff from
`,type:`str
`,default:null},name:{description:`diff column name, defaults to &quot;Diff&quot;
`,type:`str, optional
`,default:`&quot;Diff&quot;
`}},raises:{},return:{name:"",type:""}},Ot={funcdef:'def diffpp(self, diffcol: str, name: str = "Diff", doround=True) -> None',description:`Add a diff column to the main dataframe: calculate the diff
`,long_description:`in percentage from the previous value
`,example:null,params:{diffcol:{description:`column to diff from
`,type:`str
`,default:null},name:{description:`diff column name, defaults to &quot;Diff&quot;
`,type:`str, optional
`,default:`&quot;Diff&quot;
`}},raises:{},return:{name:"",type:""}},Lt={funcdef:"def diffm",description:`Add a diff column to the main dataframe: calculate the
`,long_description:`diff from the column mean
`,example:null,params:{diffcol:{description:`column to diff from
`,type:`str
`,default:null},name:{description:`str, optional
`,type:null,default:null},default:{description:`optional
`,type:null,default:null}},raises:{},return:{name:"",type:""}},Rt={funcdef:"def diffmp",description:`Add a diff column to the main dataframe: calculate the
`,long_description:`diff in percentage from the column mean
`,example:null,params:{diffcol:{description:`column to diff from
`,type:`str
`,default:null},name:{description:`str, optional
`,type:null,default:null},default:{description:`optional
`,type:null,default:null}},raises:{},return:{name:"",type:""}},Et={funcdef:"def bokeh(self) -> None",description:`Use the Bokeh charts engine
`,long_description:null,example:null,params:{},raises:{},return:{name:"",type:""}},Bt={funcdef:"def altair(self) -> None",description:`Use the Altair charts engine
`,long_description:null,example:null,params:{},raises:{},return:{name:"",type:""}},It={funcdef:"def axis(self, x_axis_col: str, y_axis_col: str)",description:`Set the columns to use for the chart x and y axis
`,long_description:null,example:null,params:{x_axis_col:{description:`name of the column to use for x axis chart
`,type:`str
`,default:null},y_axis_col:{description:`name of the column to use for y axis chart
`,type:`str
`,default:null}},raises:{},return:{name:"",type:""}},zt={funcdef:"def line_(self, *args, **kwargs) -> ChartType",description:`Draw a line chart
`,long_description:null,example:null,params:{x_axis_col:{description:`name of the column to use for x axis chart, defaults
to the x axis value set by ds.axis
`,type:`Optional[str]
`,default:null},y_axis_col:{description:`name of the column to use for y axis chart, defaults
to the y axis value set by ds.axis
`,type:`Optional[str]
`,default:null}},raises:{},return:{name:null,type:`an Altair or Bokeh chart
`}},Ft={funcdef:"def point_(self, *args, **kwargs) -> ChartType",description:`Draw a point chart
`,long_description:null,example:null,params:{},raises:{},return:{name:null,type:`Bokeh or Altair chart
`}},Pt={funcdef:"def bar_(self, *args, **kwargs) -> ChartType",description:`Draw a bar chart
`,long_description:null,example:null,params:{},raises:{},return:{name:null,type:`Bokeh or Altair chart
`}},Vt={funcdef:"def square_(self, *args, **kwargs) -> ChartType",description:`Draw a square chart with numbers. Only for Altair
`,long_description:null,example:null,params:{},raises:{},return:{name:null,type:`Altair chart
`}},Mt={funcdef:"def rule_(self, *args, **kwargs) -> ChartType",description:`Draw a rule chart with numbers. Only for Altair
`,long_description:null,example:null,params:{},raises:{},return:{name:null,type:`Altair chart
`}},jt={funcdef:"def tick_(self, *args, **kwargs) -> ChartType",description:`Draw a square chart with numbers. Only for Altair
`,long_description:null,example:null,params:{},raises:{},return:{name:null,type:`Altair chart
`}},Ut={funcdef:"def bar_num_(self, *args, **kwargs) -> ChartType",description:`Draw a bar chart with numbers. Only for Altair
`,long_description:null,example:null,params:{},raises:{},return:{name:null,type:`Altair chart
`}},Wt={funcdef:"def line_num_(self, *args, **kwargs) -> ChartType",description:`Draw a line chart with numbers. Only for Altair
`,long_description:null,example:null,params:{},raises:{},return:{name:null,type:`Altair chart
`}},Ht={funcdef:"def point_num_(self, *args, **kwargs) -> ChartType",description:`Draw a point chart with numbers. Only for Altair
`,long_description:null,example:null,params:{},raises:{},return:{name:null,type:`Altair chart
`}},Kt={funcdef:"def area_(self, *args, **kwargs) -> ChartType",description:`Draw an area chart
`,long_description:null,example:null,params:{},raises:{},return:{name:null,type:`Bokeh or Altair chart
`}},Xt={funcdef:"def heatmap_(self, *args, **kwargs) -> ChartType",description:`Draw a heatmap chart
`,long_description:null,example:null,params:{},raises:{},return:{name:null,type:`Bokeh or Altair chart
`}},Yt={funcdef:"def hist_(self, *args, **kwargs) -> ChartType",description:`Draw a histogram chart
`,long_description:null,example:null,params:{},raises:{},return:{name:null,type:`Bokeh or Altair chart
`}},Zt={funcdef:"def hline_(self, *args, **kwargs) -> ChartType",description:`Draw an horizontal mean line for the y axis
`,long_description:null,example:null,params:{},raises:{},return:{name:null,type:`Bokeh or Altair chart
`}},Qt={funcdef:"def w(self, v: int)",description:`Set the default width of charts
`,long_description:null,example:null,params:{v:{description:`the width to set, in pixel
`,type:`int
`,default:null}},raises:{},return:{name:"",type:""}},Gt={funcdef:"def h(self, v: int)",description:`Set the default width of charts
`,long_description:null,example:null,params:{v:{description:`the height to set, in pixel
`,type:`int
`,default:null}},raises:{},return:{name:"",type:""}},Jt={funcdef:"def wh(self, w: int, h: int)",description:`Set the default width and height of charts
`,long_description:null,example:null,params:{w:{description:`the height to set, in pixel
`,type:`int
`,default:null},h:{description:`the height to set, in pixel
`,type:`int
`,default:null}},raises:{},return:{name:"",type:""}},en={funcdef:"def export_csv(self, filepath: str, **kwargs) -> None",description:`Write the main dataframe to a csv file
`,long_description:null,example:null,params:{filepath:{description:`path of the file to save
`,type:`str
`,default:null},"\\*\\*kwargs":{description:`arguments to pass to <tt class="docutils literal">pd.to_csv</tt>
`,type:null,default:null}},raises:{},return:{name:"",type:""}},tn={funcdef:"def report_path(self, path: str)",description:`Set the report path folder
`,long_description:null,example:null,params:{},raises:{},return:{name:"",type:""}},nn={funcdef:"def stack",description:`Store a chart in the report stack
`,long_description:null,example:null,params:{},raises:{},return:{name:"",type:""}},ln={funcdef:"def save_pdf(self, filename: str, clear_stack=True)",description:`Save a report to a pdf file
`,long_description:null,example:null,params:{},raises:{},return:{name:"",type:""}};var an={show:je,cols_:Ue,to_date:We,to_int:He,to_float:Ke,to_type:Xe,drop_nan:Ye,fill_nan:Ze,fill_nulls:Qe,index:Ge,dateindex:Je,fdate:et,timestamps:tt,strip:nt,strip_cols:lt,roundvals:at,replace:ot,limit:st,unique_:rt,wunique_:it,count_null_:ct,count_empty_:ut,count_zero_:dt,count_unique_:pt,split_:ft,sort:mt,indexcol:_t,drop:ht,rename:yt,add:vt,keep:gt,exclude:xt,copycol:wt,dropr:kt,append:bt,reverse:Ct,apply:$t,rsum:Dt,rmean:At,percent:Tt,diffn:qt,diffnp:St,diffp:Nt,diffpp:Ot,diffm:Lt,diffmp:Rt,bokeh:Et,altair:Bt,axis:It,line_:zt,point_:Ft,bar_:Pt,square_:Vt,rule_:Mt,tick_:jt,bar_num_:Ut,line_num_:Wt,point_num_:Ht,area_:Kt,heatmap_:Xt,hist_:Yt,hline_:Zt,w:Qt,h:Gt,wh:Jt,export_csv:en,report_path:tn,stack:nn,save_pdf:ln};const on=s("div",{class:"p-3 text-xl"},"Api ref",-1),sn=["onClick"],rn=x({__name:"TheApirefSidebar",setup(i){const n=E({lines:new Array});function l(){let t=new Array;Object.keys(an).sort().forEach(e=>{t.push(e)}),n.lines=t}return B(()=>l()),(t,e)=>(a(),r("div",null,[on,(a(!0),r(v,null,g(n.lines,o=>(a(),r("div",{class:"flex flex-col pb-3 pl-5 space-y-1 cursor-pointer",onClick:c=>t.$router.push("/method/"+o)},y(o),9,sn))),256))]))}}),cn={},un=s("div",{class:"p-3 text-xl"},"Charts",-1);function dn(i,n){return a(),r("div",null,[un,s("div",{class:"pb-3 pl-5 cursor-pointer",onClick:n[0]||(n[0]=l=>i.$router.push("/examples/charts/simple_scatter"))}," Scatter plot with tooltips ")])}var pn=P(cn,[["render",dn]]);const fn={id:"main",class:"fixed w-full p-3 pb-12 overflow-auto background top-16 left-64 bg-slate-400"},mn=x({__name:"App",setup(i){const n=R("doc");function l(t){console.log("Nav",t),n.value=t}return B(()=>_e()),(t,e)=>{const o=K("router-view");return a(),r("div",{class:N([{dark:f(q).isDarkMode.value==!0},"w-screen h-screen"])},[d(ye,{class:"fixed w-full h-16 primary",onNavigate:e[0]||(e[0]=c=>l(c))}),n.value=="doc"?(a(),_(Me,{key:0,class:"fixed w-64 pb-5 mt-16 overflow-y-auto sidebar secondary"})):n.value=="apiref"?(a(),_(rn,{key:1,class:"fixed w-64 pb-5 mt-16 overflow-y-auto sidebar secondary"})):n.value=="examples"?(a(),_(pn,{key:2,class:"fixed w-64 pb-5 mt-16 overflow-y-auto sidebar secondary"})):S("",!0),s("div",fn,[d(o)])],2)}}}),_n="modulepreload",L={},hn="/dataspace/",$=function(n,l){return!l||l.length===0?n():Promise.all(l.map(t=>{if(t=`${hn}${t}`,t in L)return;L[t]=!0;const e=t.endsWith(".css"),o=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${o}`))return;const c=document.createElement("link");if(c.rel=e?"stylesheet":_n,e||(c.as="script",c.crossOrigin=""),c.href=t,document.head.appendChild(c),e)return new Promise((u,p)=>{c.addEventListener("load",u),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>n())},yn={class:"container"},vn=s("div",{class:"text-xl"},"Dataspace interactive documentation",-1),gn=s("div",{class:"mt-3"},[T("The documentation contains executable python examples. The pandas and numpy libraries are imported by default in the examples in addition to the dataspace library. Some convenience methods are available in the examples like "),s("code",null,"load_dataset"),T(". ")],-1),xn={class:"flex flex-wrap mt-5"},wn={class:"m-3 border shadow rounded-xl dark:rounded-none"},kn={class:"p-3 text-xl secondary dark:primary"},bn={class:"pb-8 pr-8"},Cn={class:"mt-1 ml-3"},$n={class:"text-lg txt-primary dark:txt-light"},Dn=["onClick"],An=x({__name:"HomeView",setup(i){function n(l){let t="/method";l!=null&&l.source&&(t="/"+l.source+t),O.push(t+"/"+l.value)}return(l,t)=>(a(),r("div",yn,[vn,gn,s("div",xn,[(a(!0),r(v,null,g(Object.keys(f(m)),e=>(a(),r("div",wn,[s("div",kn,y(e),1),s("div",bn,[(a(!0),r(v,null,g(Object.keys(f(m)[e]),o=>(a(),r("div",Cn,[s("div",$n,y(o),1),(a(!0),r(v,null,g(f(m)[e][o],c=>(a(),r("div",{class:"ml-3 cursor-pointer",onClick:u=>n(c)},y(c.title),9,Dn))),256))]))),256))])]))),256))])]))}}),Tn="Dataspace doc",qn=[{path:"/",component:An,meta:{title:"Home"}},{path:"/settings",component:()=>$(()=>import("./SettingsView.cf73b4d7.js"),["assets/SettingsView.cf73b4d7.js","assets/vendor.f90edea8.js"]),meta:{title:"Settings"}},{path:"/playground",component:()=>$(()=>import("./PlaygroundView.5db36248.js"),["assets/PlaygroundView.5db36248.js","assets/vendor.f90edea8.js"]),meta:{title:"Playground"}},{path:"/method/:name",component:()=>$(()=>import("./MethodView.0e46f313.js"),["assets/MethodView.0e46f313.js","assets/vendor.f90edea8.js","assets/DsCodeBlock.5a0260a8.js","assets/DsCodeBlock.d3f551c2.css"]),meta:{title:"Method"}},{path:"/chart/method/:name",component:()=>$(()=>import("./MethodView.0e46f313.js"),["assets/MethodView.0e46f313.js","assets/vendor.f90edea8.js","assets/DsCodeBlock.5a0260a8.js","assets/DsCodeBlock.d3f551c2.css"]),meta:{title:"Chart method",source:"chart"}},{path:"/toplevel/method/:name",component:()=>$(()=>import("./MethodView.0e46f313.js"),["assets/MethodView.0e46f313.js","assets/vendor.f90edea8.js","assets/DsCodeBlock.5a0260a8.js","assets/DsCodeBlock.d3f551c2.css"]),meta:{title:"Toplevel method",source:"toplevel"}},{path:"/examples/charts/simple_scatter",component:()=>$(()=>import("./SimpleScatter.d07c097b.js"),["assets/SimpleScatter.d07c097b.js","assets/DsCodeBlock.5a0260a8.js","assets/DsCodeBlock.d3f551c2.css","assets/vendor.f90edea8.js"]),meta:{title:"Scatter plot with tooltips"}}],O=X({history:Y("/dataspace/"),routes:qn});O.afterEach((i,n)=>{var l;document.title=`${Tn} - ${(l=i.meta)==null?void 0:l.title}`});Z(mn).use(O).mount("#app");export{P as _,$ as a,an as d,I as p,O as r,q as u};
